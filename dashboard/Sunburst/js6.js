// RAW DATA
var text = "Commit/Identify what you want to achieve/How to make it stick/Competency/Creating a Data & Analysis Literate Workforce/The city either directly provides or dedicates budget resources for purchasing employee training on data/analytics./Carter,"Commit/Identify what you want to achieve/How to make it stick/Competency/Assessing Your Own Capabilities/The city has a mechanism to assess the mathematical, statistical, and computer science capabilites of its own workforce./Carter","Commit/Identify what you want to achieve/How to make it stick/Publicity/Capturing Best Practices/Stories, links to stories, or links to work done based upon open data are routinely provided/Andrew/Sun","Commit/Identify what you want to achieve/How to make it stick/Publicity/Capturing Best Practices/New, recently updated, or important datasets are routinely highlighted/Andrew/Sun",Commit/Identify what you want to achieve/How to make it stick/Publicity/Capturing Best Practices/The city captures its own best practices and communicates about them./Carter,Commit/Identify what you want to achieve/How to make it stick/Publicity/Capturing Best Practices/Open data success stories are routinely shared with the media and on social media/Andrew/Sun,Commit/Identify what you want to achieve/How to make it stick/Publicity/Press Examples/The city actively pushes its own example of data-driven practices to the press/media./Carter,"Commit/Identify what you want to achieve/How to make it stick/Publicity/Press Examples/City leaders routinely reference public data in press releases, interviews, presentations or public speeches/Andrew/Sun",Commit/Identify what you want to achieve/How to make it stick/Publicity/Press Examples/C1. The mayor or chief executive cites data when speaking publicly about progress towards city goals/WWC,"Commit/Identify what you want to achieve/How to make it stick/Publicity/Press Examples/A6. In public remarks (or public materials), the mayor or chief executive explains how any change in funding between vendors or programs was driven by data and evidence/WWC",Commit/Identify what you want to achieve/How to make it stick/Culture/Culture Change Resources/The city has explicitely referenced a desire to change or shape its own culture toward one more adept with data and analysis./Carter,"Commit/Identify what you want to achieve/How to make it stick/Culture/Culture Diagnostic Tools/The city has engaged in demonstrable efforts (i.e. focus groups, consutling reviews, surveys) to understand its own culture./Carter",Commit/Identify what you want to achieve/How to make it stick/Strategic Framework/Strategic Framework/The city has a strategic plan which explicitely includes language about leveraging data to make decisions as an organization./Carter,Commit/Identify what you want to achieve/How to make it stick/Stakeholder Buy-In/Employee Recognition/City employees are routinely recognized for their contributions to improving government./Carter,"Commit/Identify what you want to achieve/How to make it stick/Stakeholder Buy-In/Employee Evaluations - Linkage to Goals/City employees are evaluated using a tool or framework which connects their own performance to that of their respective programs, departments, and the city writ large./Carter","Commit/Identify what you want to achieve/How to make it stick/Stakeholder Buy-In/Employee Engagement - Listening, Participation, Feedback, Communication/C6. Involves internal stakeholders in goal setting/WWC","Commit/Identify what you want to achieve/How to make it stick/Stakeholder Buy-In/Employee Engagement - Listening, Participation, Feedback, Communication/The city leverages multiple channels to engage its employees (listening sessions, internal communications, feedback sessions, high participation rates in activities)/Carter","Commit/Identify what you want to achieve/How to make it stick/Stakeholder Buy-In/Employee Engagement - Listening, Participation, Feedback, Communication/Awareness and use of the open data portal is fostered within agencies/departments/Andrew/Sun",Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Executive Order (Examples)/C9. Has an Open Data policy/WWC,Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Executive Order (Examples)/The city has an executive order signed by the chief executive on Open Data./Carter,Commit/Identify what you want to achieve/How to make it stick/Policy/Sample Performance Management Resolution/The city's legislative branch has passed a resolution or ordinance establishing performance management requirements for the city./Carter,Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Ordinance/The city has an ordinance passed by city council on Open Data./Carter,Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Ordinance/Create guidance or other binding regulations for implementation/Andrew/Sun,Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Ordinance/Reference and build on existing public accountability and access policies/Andrew/Sun,Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Ordinance/Stipulate that provisions apply to contractors or quasi-governmental agencies/Andrew/Sun,Commit/Identify what you want to achieve/How to make it stick/Policy/Open Data Ordinance/Mandate future review for potential changes to this policy/Andrew/Sun,Commit/Identify what you want to achieve/How to make it stick/Policy/STAT Executive Order Examples & Chart/The city has an Executive order establishing a STAT or STAT-like program/Carter,Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Tactical-level forums/Open Data Forums/The city has an Open Data portal./Carter,Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Tactical-level forums/Internal Data Visualizations/The city publsihes data visualizations for employees to inform the day-to-day execution of their responsibiliies./Carter,"Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Tactical-level forums/Internal Data Visualizations/C8. Publishes city progress on city goals annually or more frequently (e.g., annual report, update to city’s strategic plan, etc.)/WWC",Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Budget Process Forums/Performance Based Budgeting/Ensure sufficient funding for implementation/Andrew/Sun,"Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Budget Process Forums/Performance Based Budgeting/A5. Redirects budget allocations for citywide policies, program areas, or multi-agency initiatives based in part on their measurable impact (i.e.,moving funds away from ineffective policies or programs and towards programs that demonstrate better results)/WWC",Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Budget Process Forums/Performance Based Budgeting/The city routinely make resource/budgeting decisions in meetings which are infused with the analysis of data./Carter,"Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Sustainment Strategies/Sustainment Strategies/The city's STAT program or other high-visibility, data-driven, decision-making venue has existed for more than one political administration./Carter",Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/Non-STAT Forums/Non-STAT Forums/The city has an interdisciplinary meeting of senior management officials which is infused with data and analysis to drive the discussion. (but it is not called STAT)/Carter,Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/STAT Forums/Performance Management (STAT) Getting Started Guide (Git/The city has a STAT program which is chaired by a senior official with ample authority./Carter,"Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/STAT Forums/Intro to STAT/M3. Has a set schedule for performance management or Stat meetings, led by the mayor or his/her senior team/WWC",Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/STAT Forums/Intro to STAT/The city has a STAT program which occurs routinely on a predictable schedule./Carter,Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/STAT Forums/History of Performance STAT Programs & Appendix/The city has a STAT program which drives specific actions for which individuals/programs are held accountable for completing./Carter,Commit/Identify what you want to achieve/How to create & sustain compelling decision-making forums/STAT Forums/STAT Delivery Model/The city has a STAT program which consistently leverages data to inform the discussion./Carter,"Commit/Identify what you want to achieve/How to get focused/Choosing ""who"" to assign it to/Choosing ""who"" to assign it to/The city has established (and published) clear owners (programs and/or individuals) which make it clear ""who"" is responsible for progress toward each goal statement./Carter","Commit/Identify what you want to achieve/How to get focused/Deciding ""how"" to move forward/Deciding ""how"" to move forward/The city has clarified (and published) specific strategies and tactics which make it clear how they plan to make progress toward each goal statement./Carter",Commit/Identify what you want to achieve/How to get focused/Picking where to start with Open Data efforts/Picking where to start with Open Data efforts/The city has published priorities for Open Data activities./Carter,Commit/Identify what you want to achieve/How to get focused/Picking where to start with Open Data efforts/Picking where to start with Open Data efforts/Specify methods of determining the prioritization of data release/Andrew/Sun,Commit/Identify what you want to achieve/How to get focused/Picking what problem to focus on/Department Mapping Template/The city has established (and published) clear linkages between its goal statements and each department's role in execution./Carter,Commit/Identify what you want to achieve/How to get focused/Picking what problem to focus on/Performance Management Goal Setting Template/C4. Has at least one publicly stated strategic goal/WWC,Commit/Identify what you want to achieve/How to get focused/Picking what problem to focus on/Performance Management Goal Setting Template/C2. Has at least one strategic goal/WWC,"Commit/Identify what you want to achieve/How to get focused/Picking what problem to focus on/Performance Management Goal Setting Template/Build on the values, goals and mission of the community and government/Andrew/Sun",Commit/Identify what you want to achieve/How to get focused/Picking what problem to focus on/Performance Management Goal Setting Template/The city has published goal statements which set clear goals and provide context for why they are important to the city's mission or to the Mayor/City Manager./Carter,"Commit/Identify what you want to achieve/How to get focused/Leadership/Finding an Executive Champion/The city has an executive with significant authority over resources who throws his/her full weight behind data-related initiatives like open data, analytics and performance./Carter","Commit/Identify what you want to achieve/How to get focused/Leadership/Finding an Executive Champion/C10. Mayor publicizes commitment to governing with data to city departments (e.g., public remarks, internal employee emails, newsletters, website, etc.)/WWC",Commit/Identify what you want to achieve/How to get focused/Leadership/Finding an Executive Champion/A representative from the mayor/city manager's team is part of the leadership/Andrew/Sun,"Commit/Identify what you want to achieve/How to get focused/Understanding ""when"" to expect progress/Setting Targets/Goals/The city has specific targets/goals it is aiming for within each goal statement, and those targets/goals are calculated based on analysis of past performance, current context, and forseeable future activities./Carter","Commit/Identify what you want to achieve/How to get focused/Understanding ""when"" to expect progress/Setting Targets/Goals/Set appropriately ambitious timelines for implementation/Andrew/Sun","Commit/Identify what you want to achieve/How to get focused/Understanding ""when"" to expect progress/Setting Targets/Goals/C3. Has assigned targets, metrics, and a timeframe to measure progress toward the achievement of at least one strategic goal/WWC","Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Programming Tools/The city enables employees to conduct data analysis using computer programming through Java, R, Python, C, etc./Carter",Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Performance Management Platform Recommendations/The city publishes its performance data on an interactive virtual platform./Carter,"Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Geospatial Tools/The city enables the utilization of GIS software (i.e. AutoCAD, Esri, Mapinfo, etc) by employees./Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Exploration Tools/The city enables the utilization of data exploration software (e.g. Excel, MySQL, R, Tableau, Pentaho) for employees./Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Statistical Tools/The city enables the utilization of (i.e. Stata, SPSS, R, Matlab, Minitab, SAS) by employees./Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Data Management Tools/The city enables the utilization of data management software (e.g. Access, MySQL, Hadoop, NoSQL) for employees./Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Tools/Data Visualization Tools/The city enables the utilization of data visualization software (i.e. Tableau, Qlikview, Socrata, R) by employees./Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Text Mining/The city treats qualitative information as data and uses text mining analysis to derive insights from PDF reports, etc./Carter",Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Text Mining/Require digitization and distribution of archival materials/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Modeling & Statistical Inference - Sampling & Population Estimation/The city leverages inferential statistics to drive its understanding of issues affecting broader city populations (e.g. disease transmission)./Carter,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Reproducibility/Require code sharing or publishing open source/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Reproducibility/Require publishing data creation processes/Andrew/Sun,"Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Reproducibility/The city publsihes its analysis and underlying methodology to its own employees and/or the public through Github, Sharepoint, or an internal tool/Carter",Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Hygeine/Create processes to ensure data quality/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Hygeine/Analysts report a significant portion of their project time is dedicated to data hygeine prior to analysis being conducted./Carter,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Hygeine/Mandate the use of unique identifiers/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Hygeine/Implementation guidance (Sunlight #24) includes a framework for data quality/Andrew/Sun,"Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Preparation for Analysis - Specifying the Question/Analysts in the city report being given very specific questions to answer BEFORE they are expected to conduct analysis,/Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Math that Matters (ratios, slopes, net vs. gross changes)/The city routinely uses basic counting, ratios, and percent changes to understand changes in program performance./Carter","Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Data Storage/The city demonstrates the ability or intention to transition its data to cloud-based storage, and out of legacy systems./Carter",Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Database Administration/Mandate ongoing data publication and updates/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Database Administration/The city has more than one individual on an enterprise analytics/STAT/Open Data team who is adept at more than two DBM tools./Carter,"Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Exploration & Descriptive Statistics (central tendency, variability)/TS4. Uses a range of evaluation methods to test the impact of programs/WWC","Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Exploration & Descriptive Statistics (central tendency, variability)/The city published descriptive statistics wherever data is presented (reports, dashboards, websites)/Carter",Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Geospatial Analysis/The city has multiple GIS Specialists on staff and leverages them for spatial and non-spatial analysis at the enterprise level (i.e. not limited to/Carter,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Coding & Programming/The city employees at least two employees (outside the IT department) who are adept in multiple computer programming languages./Carter,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Data Security/A risk management plan exists/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Data Security/The city has published protocols and training for managing PII and other sensitive information in accordance with security guidelines./Carter,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Management - Data Security/Appropriately safeguard sensitive information/Andrew/Sun,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Data Modeling & Statistical Inference - Prediction & Machine Learning/The city leverages inferential statistics to develop predictive models for at least one service area./Carter,Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Preparation for Analysis - Questions you should be asking/Analysts report having the freedom and security to elevate or suggest questions worth answering to city leadership./Carter,"Take Stock/Learn from the Results/How to generate insights/Data Science Methods/Preparation for Analysis - Questions you should be asking/TS1. Has a designated process for conducting analysis, prep, and follow-up for each Stat or performance management meeting/WWC","Take Stock/Learn from the Results/How to communicate insights/Design choices/Choosing Content Carefully/The analysis produced by a city is easily understandable and clearly presented, not jumbled with all possible facts./Carter",Take Stock/Learn from the Results/How to communicate insights/Design choices/When Maps Matter (and when they don't)/The maps published by cities have context provided with them./Carter,Take Stock/Learn from the Results/How to communicate insights/Design choices/Accessibility/Remove restrictions for accessing information/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Design choices/Accessibility/The city practices 508-compliance-like standards to make content accessible to those with disabilities./Carter,"Take Stock/Learn from the Results/How to communicate insights/Design choices/Accessibility/Create permanent, lasting access to data/Andrew/Sun",Take Stock/Learn from the Results/How to communicate insights/Design choices/Accessibility/Create public APIs for accessing information/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Design choices/Data Visualization/The city has published data visualizations which are intutive and well designed./Carter,Take Stock/Learn from the Results/How to communicate insights/Presentation skills/Storytelling Through Data/Presentations given by city officials tell a clear and compelling story about how data is used to add value./Carter,"Take Stock/Learn from the Results/How to communicate insights/Presentation skills/Briefing Executives (written, verbal)/Executives in the city report satisfaction with the quality of briefings provided by analyticl staff,/Carter",Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with employees/The city routinely communicates with employees about the importance of data and analysis in their work./Carter,"Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/M12. Publicly releases data that is responsive to residents’ requests (i.e., there is a clear relationship between the data released and residents’ requests)/WWC",Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/A means is provided for the public to request data/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/Social media is routinely used to engage the public in conversations about open data/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/Proactively release government information online/Andrew/Sun,"Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/Links to the open data portal(s) are prominently included on the jurisdiction's web site(s) (header, footer, or navigation)/Andrew/Sun","Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/The city communicates with the public, through multiple channels, about data and analysis relevant to their lives./Carter",Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/A means is provided for the public to provide feedback on published data/Andrew/Sun,"Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/TS2. Shares key data, findings, and decisions from performance management meetings with the public/WWC","Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/M7. Publicly releases data that is descriptive of core city services or related to city goals (i.e., data that is useful to the public)/WWC",Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/The jurisdiction is listed as a provider on the civic data specification's website/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/Create a central location devoted to data publication and policy/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/City representatives who attend locally-organized events direct the public to the open data portal when appropriate/Andrew/Sun,Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/Incorporate public perspectives into policy implementation• The launch of the open data website has been publicly announced/Andrew/Sun,"Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with the community/M8. Has a mechanism for releasing data to the public (e.g., resource page on city website)/WWC",Take Stock/Learn from the Results/How to communicate insights/Communicating Insights & Articulating value with Stakeholders/Communicating with politicians/The city routinely provides data and analysis to elected officials during committee hearings./Carter,"Take Stock/Learn from the Results/How to attract & keep talent/Identify existing talent/Finding open data and performance management coordinators internally/The city has designated open data, data governance, performance management, or analytics coordinators across the government./Carter",Take Stock/Learn from the Results/How to attract & keep talent/Identify existing talent/Finding open data and performance management coordinators internally/Every agency/department has designated an open data liaison/Andrew/Sun,Take Stock/Learn from the Results/How to attract & keep talent/Identify existing talent/Identify existing talent/The city has created an informal network of analysts from an existing pool of talent across the city./Carter,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/Open Data Analyst Job Description/The city has speciic job descriptions for an Open Data Director and/or Open Data analysts./Carter,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/STAT Analyst Job Description/The city has speciic job descriptions for a STAT Director and/or STAT analysts./Carter,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/Open Data Program Manager Job Description (Sheila - Cambridge)/M11. Has designated a person or team responsible for Open Data/WWC,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/Open Data Program Manager Job Description (Sheila - Cambridge)/The city has an Open Data Program Manager or has a speciic job descriptions for an Open Data Program Manager./Carter,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/Where to Look for Talent/The city proactively lists data and analytics-related job postings with organizations that have relevent expertise and broad reach into top talent./Carter,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/Chief Data Officer Job Description (Nicklin)/The city has a Chief Data Officer or has a speciic job descriptions for a Chief Data Officer./Carter,Take Stock/Learn from the Results/How to attract & keep talent/High-Yield Recruitment/Chief Data Officer Job Description (Nicklin)/Create or appoint oversight authority/Andrew/Sun,"Take Stock/Learn from the Results/How to attract & keep talent/Building effective teams/Building effective teams/M13. Has staff dedicated to data analysis (e.g., data analytics staff, performance management staff, evaluation staff, Chief Data Officer, etc.)/WWC","Take Stock/Learn from the Results/How to attract & keep talent/Building effective teams/Building effective teams/The city has more than one person advancing the practices of data, analytics, and performance management internally./Carter","Take Stock/Learn from the Results/How to attract & keep talent/Identify the right skills/Identify the right skills/The city has job descriptions which explicitely list data science skillsets in mathematics, statistics, computer science, communications, and general critical thinking./Carter",Take Stock/Learn from the Results/How to attract & keep talent/Retention/Retention/The city demonstrates the ability to retain data analysts for longer than two years./Carter,"Measure/Decide how you want to measure progress/How to pick measures that matter/Building new measures/Using families of measures (inputs, outputs, outcomes/impacts, service quality, efficiency)/The city leverages a ""family of measures"" to monitor the progress toward each goal statement/Carter","Measure/Decide how you want to measure progress/How to pick measures that matter/Building new measures/Using families of measures (inputs, outputs, outcomes/impacts, service quality, efficiency)/M1. Collects key output indicators (outputs are interim data points that indicate progress towards a city priority or goal; e.g., number of trees planted in city fiscal year)/WWC","Measure/Decide how you want to measure progress/How to pick measures that matter/Building new measures/Using families of measures (inputs, outputs, outcomes/impacts, service quality, efficiency)/M2. Collects key outcome indicators (outcomes are final data points that indicate concrete progress made towards a city priority or goal; e.g., reduction in unemployment rate; previously unemployed maintain jobs for 12 months)/WWC","Measure/Decide how you want to measure progress/How to pick measures that matter/Using the measures you have/KPIs/The city has selected specific performance measures as ""Key Performance Indicators"" to highlight and visit on a routine basis./Carter","Measure/Decide how you want to measure progress/How to pick measures that matter/Using the measures you have/KPIs/C5. Has assigned targets, metrics, and a timeframe to measure progress toward the achievement of at least one publicly stated strategic goal/WWC","Measure/Leverage Data/How to leverage external data/Leveraging External Sources/Data from key partners with overlapping equities (e.g. school districts, utilities, counties, states, feds)/The city routinely leverages data from external stakeholders (E.g. school districts, utilities, counties, states, feds) to enhance the quality of its own analysis./Carter",Measure/Leverage Data/How to leverage external data/Data Collection/Data Collection Best Practices/Optimize methods of data collection/Andrew/Sun,Measure/Leverage Data/How to leverage external data/Data Collection/Data Collection Best Practices/Data is kept up-to-date without human interaction (re: Sunlight #22)/Andrew/Sun,"Measure/Leverage Data/How to leverage external data/Leveraging Multiple Formats/Data from web, databases, APIs/The city demonstrates the in-house ability to leverage open source data through APIs to enhance the quality of its analysis./Carter",Measure/Leverage Data/How to Establish Data Governance/Data Governance/Establishing Data Governance/The city has established data governance to manage data as an enterprise assett and designated participants routinely attend/Carter,Measure/Leverage Data/How to Establish Data Governance/Data Governance/Establishing Data Governance/Governance body meets at least once a month/Andrew/Sun,"Measure/Leverage Data/How to Establish Data Governance/Data Governance/Establishing Data Governance/M10. Has a structured process for releasing data as part of an Open Data program (e.g., defined roles and responsibilities, governance plan, and/or governance committee)/WWC","Measure/Leverage Data/How to conduct a data inventory/Inventory Data/Data Inventory Guide/Create a public, comprehensive list of all information holdings/Andrew/Sun",Measure/Leverage Data/How to conduct a data inventory/Inventory Data/Data Inventory Guide/The city has conducted (and publsihed) a complete data inventory./Carter,Measure/Leverage Data/How to conduct a data inventory/Inventory Data/Data Inventory Guide/The data inventory is routinely reviewed and public data releases are prioritized/Andrew/Sun,Measure/Leverage Data/How to leverage Data Standards/Data Standards/Leveraging Data Standards/Provide comprehensive and appropriate formats for varied uses/Andrew/Sun,Measure/Leverage Data/How to leverage Data Standards/Data Standards/Leveraging Data Standards/The city leverages existing (or publishes its own) data standards for the enterprise./Carter,Measure/Leverage Data/How to leverage Data Standards/Data Standards/Leveraging Data Standards/Mandate data formats for maximal technical access./Andrew/Sun,"Measure/Leverage Data/How to leverage Data Standards/Data Standards/Leveraging Data Standards/Implementation Guidance (Sunlight #24) defines standards for common data elements to keep them consistent across different datasets (e.g. addresses, date formats, geospatial projections)/Andrew/Sun",Measure/Leverage Data/How to leverage Data Standards/Data Standards/Leveraging Data Standards/Civic data specifications are used (if they exist) (similar to Sunlight #8)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Creating a broader management strategy for Open Data/The city has published a management strategy for Open Data/Carter,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Getting Started Guide/Publish bulk data/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Licensing Standards/Mandate data be explicitly license-free/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Metadata & Dictionary Guide/Charge data-creating agencies with recommending an appropriate citation form/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Metadata & Dictionary Guide/Metadata is compatible with project-open-data / DCAT (re: Sunlight #13)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Metadata & Dictionary Guide/Require publishing metadata/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Metadata & Dictionary Guide/References to 3rd party specifications (e.g. civic data standards) are included if relevant/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/The web site provides a useful search feature (re: Sunlight #18)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/A one-stop data discovery mechanism exists when the jurisdiction operates multiple open data sites (re: Sunlight #18)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/The web site provides a data.json feed (re: Sunlight #18)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/Column-level metadata is available and maintained (re: Sunlight #13)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/M9. Has an Open Data portal/WWC,"Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/This mechanism also includes parent jurisdiction data such as county, state, and federal (see Sunlight #18)/Andrew/Sun",Measure/Leverage Data/How to leverage internal data/Open Data/Open Data Portal Technical Requirements/Value-level metadata is available and maintained (re: Sunlight #13)/Andrew/Sun,Measure/Leverage Data/How to leverage internal data/Non-Open Data/Non-Open Data/The city demonstrates the ability to properly deal with sensitive data using the right security and protection procedures./Carter,Measure/Leverage Data/How to Conduct Relevant Benchmarking/Benchmarking/Comparing you to you/The city routinely compares its current performance to past performance./Carter,Measure/Leverage Data/How to Conduct Relevant Benchmarking/Benchmarking/Comparing you to others/TS3. Measures and compares performance in core areas against external benchmarks/WWC,Measure/Leverage Data/How to Conduct Relevant Benchmarking/Benchmarking/Comparing you to others/The city routine compares its current and past performance to that of other comparable jurisdictions./Carter,Act/Take Informed Action/How to take informed action/Applying the right resources to the problem/Applying the right resources to the problem/The city makes resource decisions which are based on precice calculations and derived from thorough analysis./Carter,"Act/Take Informed Action/How to take informed action/Stopping bad practices/Knowing when your practices are bad/The city can cite at least three examples of stopping a program or service that, based on analysis of evidence, was not working./Carter",Act/Take Informed Action/How to take informed action/Stopping bad practices/Finding bad practices/The city can cite at least one example of NOT trying something because it was deemed a bad or ineffective practice in another jurisdiction./Carter,"Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/The jurisdiction actively participates in the development & evolution of civic data specifications/Andrew/Sun","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/Incorporate public perspectives into policy implementation/Andrew/Sun","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/C7. Involves external stakeholders in goal setting/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/Agency/department representatives discuss available data with industry/domain representatives (re: Sunlight #30)/Andrew/Sun","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/A7. Actively and successfully facilitates the creative and valuable use of data by residents and entrepreneurs (e.g., public events, prizes, competitions, hackathons, developing apps for the public)/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/City representatives regularly attend local ""civic hacker"" meetings (CfA Brigades, etc)/Andrew/Sun","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/The city routinely leverages external stakeholders (CFA brigades, coalitions, advocates) for co-problem solving./Carter","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/TS5. Collaborates with researchers (e.g., university partners or research firms) to design or conduct empirical assessments of programs/service delivery/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Stakeholder engagement (CFA Brigades, Identifying Coalitions)/Create or explore potential partnerships/Andrew/Sun","Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/M5. Contracts include performance incentives (e.g., selecting the right contract structure, providing rewards for good performance, reducing payment for underperformance, shrinking future contracts)/WWC",Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/TS6. Monitors outcomes specified in contracts/WWC,Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/TS7. Reviews outcome data specified in contracts with contractors during the contract term/WWC,"Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/M4. Identifies goals for key procurements (including grants and contracts), specifies measurable outcomes, and aligns procurement strategy, including the selection of competition strategy, contract structure, and requirements, with goals (goals should describe what the city is seeking to accomplish through the procurement and why the city needs to purchase the good or service)/WWC",Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/A3. Makes contracting decisions based with consideration of past performance of vendor(s)/WWC,"Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/M6. Has systems in place to measure outcomes, impacts, and/or cost effectiveness of key procurements/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/The city demonstrates that city contracts are routinely evaluated based on performance, and that adverse contracting actions result from underperformance./Carter","Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/TS9. Compares relative performance across service providers (i.e., agency staff reviews performance of all vendors for a particular service)/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/TS8. At the end of a contract term, systematically reviews and assesses contractor performance/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Performance Based Contracting/A2. Uses performance data to manage ongoing contracts, including detecting issues in real-time and implementing mid-course corrections as needed/WWC","Act/Take Informed Action/How to take informed action/Doing what works/Finding best practices/The city can cite at least three examples of implementing a program or service change based on a ""best practice"" in another jurisdiction./Carter",Act/Take Informed Action/How to take informed action/Going first (taking a risk)/Influencing Behavior through new approaches/The city can cite at least one example of trying an unprecedented action based on a belief it might work and and absence of evidence it wouldn't work./Carter,Act/Take Informed Action/Hot to close the loop/Connecting new insights to past and future actions/decisions/Connecting new insights to past and future actions/decisions/A4. Modifies the delivery of existing programs (contracted or agency administered) based on evaluation results/WWC,Act/Take Informed Action/Hot to close the loop/Connecting new insights to past and future actions/decisions/Connecting new insights to past and future actions/decisions/The city can cite three examples of adjusting previous decisions based on new data and analysis (taking stock)./Carter,Act/Take Informed Action/Hot to close the loop/Connecting new insights to past and future actions/decisions/Connecting new insights to past and future actions/decisions/Web site and dataset usage statistics are routinely reviewed to aid in prioritization/Andrew/Sun,Act/Take Informed Action/Hot to close the loop/Connecting new insights to past and future actions/decisions/Connecting new insights to past and future actions/decisions/A1. Modifies the delivery of existing programs based on the review of their results in performance management meetings or through a benchmarking analysis/WWC,"General/General/How it all comes together/Conceptual Diagrams/Performance Management Ecosystem/The city has (or references) a document explaining to every employee how performance management, analysis, and open data practices fit together in their city./Carter",General/General/How it all comes together/Case Studies/Stories about frontline employee using data in WWCs and achieving results/The city publishes (internally or externally) examples of its own employees using data to achieve results in their day-to-day practice./Carter,General/General/How it all comes together/Case Studies/Give me the code (NYC)/The city routinely shares analysis (including methodology) with employees across divisions to facilitate shared horizontal learning./Carter
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
";


// BEGIN DATA MANIPULATION
var csv = d3.csv.parseRows(text);
var data = buildHierarchy(csv);

// Take a 2-column CSV and transform it into a hierarchical structure suitable
 // for a partition layout. The first column is a sequence of step names, from
 // root to leaf, separated by hyphens. The second column is a count of how
 // often that sequence occurred.
 function buildHierarchy(csv) {
   var root = {"name": "root", "children": [], id: 'ROOT'};

   for (var i = 0; i < csv.length; i++) {
     var sequence = csv[i][0];
     var size = +csv[i][1];

     if (isNaN(size)) { // e.g. if this is a header row
       continue;
     }

     var parts = sequence.split("-");
     var currentNode = root;
     for (var j = 0; j < parts.length; j++) {
       var children = currentNode["children"];
       var nodeName = parts[j];
       var childNode;

       if (j + 1 < parts.length) {
         // Not yet at the end of the sequence; move down the tree.
         var foundChild = false;

         for (var k = 0; k < children.length; k++) {
           if (children[k]["name"] == nodeName) {
             childNode = children[k];
             foundChild = true;
             break;
           }
         }

         // If we don't already have a child node for this branch, create it.
         if (!foundChild) {
           childNode = { "name": nodeName, "children": [], id: create_id() };
           children.push(childNode);
         }

         currentNode = childNode;

       } else {
         // Reached the end of the sequence; create a leaf node.
         childNode = {"name": nodeName, "value": size, id: create_id() };
         children.push(childNode);
       }
     }
   }

   return root;
 };

// Retrieved from https://gist.github.com/gordonbrander/2230317
function create_id() {
  return '_' + Math.random().toString(36).substr(2, 9);
};


// END DATA MANIPULATION

// log out deep clone of data for review
//console.debug(JSON.parse(JSON.stringify(data)));








/*********************
 BEGIN BUILDING CHART
 ********************/


// Size/state related variables
var width = 500,
    height = 500,
    outer_radius = width/2.5,
    arc_transition; // save current arc transition

// Create scales
var x = d3.scale.linear()
      .range([0, 2 * Math.PI]),

    y = d3.scale.sqrt()
      .range([0, width/2]),

    color = d3.scale.category20c();

// Partition layout
var partition = d3.layout.partition(),
    nodes = partition.nodes(data);

// Arc generator
var arc_generator = d3.svg.arc()
      .startAngle(function(d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x)));
      })
      .endAngle(function(d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx)));
      })
      .innerRadius(function(d) {
        return Math.max(0, y(d.y));
      })
      .outerRadius(function(d) {
        return Math.max(0, y(d.y + d.dy));
      });

// Append a centered group for the burst to be added to
var burst_group = d3.select('.chart')
                   .append('svg')
                   .attr({
                     width: width,
                     height: height
                   })
                   .append('g')
                   .attr('transform', 'translate(' + width/2 + ',' + height/2 + ')');

// Append Arcs
var arcs = burst_group.selectAll("path.ark")
    .data( nodes )
    .enter().append("path")
    .attr({
      d: arc_generator,
      class: function(d) { return 'ark -depth-' + d.depth; }
    })
    .style("fill", function(d,i) {
      if (d.depth > 0) return color(i);
    })
    .on("click", click)
    .on('mouseover', function(d) {
      if (d.depth > 0) {
        var ids = getIDArray(d);
        fade(arcs, 0.1, ids, 'id');
        update_crumbs(d);
      }
    })
    .on('mouseout', function(d) {
      fade(arcs, 1);
      remove_crumbs();
    });

// Updates breadcrumbs
function update_crumbs(d) {
  var crumb_container = d3.select('.crumbs'),
      sections = getNameArray(d);

  // Remove existing crumbs
  remove_crumbs();

  // Append new crumbs
  sections.reverse().forEach(function(name) {
    crumb_container.append('span')
      .classed('crumb', true)
      .text(name);
  });
};

// Removes all crumb spans
function remove_crumbs() {
  d3.select('.crumbs').selectAll('.crumb').remove();
};

// Handle Clicks
function click(d) {
  arc_transition = arcs.transition('arc_tween')
    .duration(750)
    .attrTween("d", arcTween(d));
};

// Retrieve arc name and parent names
function getNameArray(d, array) {
  array = array || [];

  // Push the current objects name to the array
  array.push(d.name);

  // Recurse to retrieve parent names
  if (d.parent) getNameArray(d.parent, array);

  return array;
};

// Retrieve arc name and parent names
function getIDArray(d, array) {
  array = array || [];

  // Push the current objects name to the array
  array.push(d.id);

  // Recurse to retrieve parent names
  if (d.parent) getIDArray(d.parent, array);

  return array;
};

// Interpolate the scales!
function arcTween(d) {
  var xd = d3.interpolate( x.domain(), [d.x, d.x + d.dx] ),
      yd = d3.interpolate( y.domain(), [d.y, 1] ),
      yr = d3.interpolate( y.range(), [d.y ? 20 : 0, outer_radius] );

  return function(d, i) {
    return i
        ? function(t) { return arc_generator(d); }
        : function(t) {
            x.domain( xd(t) );
            y.domain( yd(t) ).range( yr(t) );

            return arc_generator(d);
        };
  };
};

// Fade a selection filtering out the comparator(s)
function fade(selection, opacity, comparators, comparatee) {
  var type = typeof comparators,
      key = comparatee ? comparatee : 'value';

  selection.filter(function(d, i) {
                // Remove elements based on a string or number
                if (type === "string" || type === "number") {
                  return d[key] !== comparators;

                // Remove elements based on an array
                } else if (type === 'object' && typeof comparators.slice === 'function') {
                  return comparators.indexOf(d[key]) === -1;

                // If there is no comparator keep everything
                } else return true;
            })
            .transition('fade')
            .duration(250)
            .style('opacity', opacity);
};
